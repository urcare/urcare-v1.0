/* Import Inter font */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Krona+One&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Quattrocento:wght@400;700&family=Roboto:ital,wght@0,100..900;1,100..900&family=Syne:wght@400..800&display=swap");

.font-Syne {
  font-family: Syne;
}

.font-Quattrocento {
  font-family: Quattrocento;
}
.font-Krona {
  font-family: Krona One;
}

.font-Montserrat {
  font-family: Montserrat;
}

.root {
  font-family: Montserrat, sans-serif;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Hide scrollbar for Chrome, Safari and Opera */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.scrollbar-hide {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
  scroll-behavior: smooth;
}

/* Smooth scrolling and momentum on mobile */
.smooth-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  overscroll-behavior: contain;
}

/* Custom scrollable container */
.scrollable-container {
  overflow-y: auto;
  scrollbar-width: none;
}

/* Dynamic card with fixed bottom edges */
.dynamic-card-fixed-bottom {
  position: relative;
  transition: height 0.3s ease-in-out, min-height 0.3s ease-in-out;
  will-change: height, min-height;
}

/* Slide up animation for revealing content */
@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-up {
  animation: slide-up 0.5s ease-out forwards;
}

.scrollable-container::-webkit-scrollbar {
  display: none;
}

/* Simple sticky scroll animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in-up {
  animation: fadeInUp 0.3s ease-out forwards;
}

.sticky-bottom {
  position: sticky;
  bottom: 0;
  z-index: 50;
  transition: all 0.3s ease;
}

@layer base {
  :root {
    /* Safari iOS viewport fix */
    --vh: 1vh;

    /* Light Mode Colors - Specified Palette */
    --background: 210 17% 98%; /* #F8F9FA */
    --foreground: 0 0% 0%; /* #000000 */
    --card: 157 100% 18%; /* #005E3D */
    --card-foreground: 51 100% 50%; /* #FFD700 */
    --popover: 210 17% 98%; /* #F8F9FA */
    --popover-foreground: 0 0% 0%; /* #000000 */

    /* Primary/Secondary/Accent */
    --primary: 157 100% 18%; /* Deep Emerald Green */
    --primary-foreground: 51 100% 50%; /* Gold */
    --secondary: 226 43% 21%; /* #1E2A4B */
    --secondary-foreground: 51 100% 50%; /* Gold */
    --accent: 51 100% 50%; /* Gold */
    --accent-foreground: 0 0% 0%; /* Black */

    /* Status */
    --success: 157 100% 18%; /* Emerald */
    --success-foreground: 51 100% 50%; /* Gold */
    --warning: 51 100% 50%; /* Gold */
    --warning-foreground: 0 0% 0%; /* Black */
    --destructive: 0 84% 60%; /* Red */
    --destructive-foreground: 0 0% 100%; /* White */

    /* Neutral */
    --muted: 210 9% 46%; /* #6C757D */
    --muted-foreground: 0 0% 0%; /* Black */
    --border: 51 100% 50%; /* Gold */
    --input: 210 17% 98%; /* White Smoke */
    --ring: 51 100% 50%; /* Gold */

    /* Background Variations */
    --background-secondary: 210 17% 98%;
    --background-tertiary: 210 17% 98%;
    --text-secondary: 210 9% 46%; /* Davy's Gray */
    --text-tertiary: 210 9% 46%;
    --border-medium: 51 100% 50%;

    --radius: 1rem;
  }

  .dark {
    /* Dark Mode - Specified Palette */
    --background: 226 43% 21%; /* #1E2A4B */
    --foreground: 51 100% 50%; /* Gold */
    --card: 157 100% 18%; /* Emerald */
    --card-foreground: 51 100% 50%;
    --popover: 226 43% 21%;
    --popover-foreground: 51 100% 50%;

    --primary: 157 100% 18%;
    --primary-foreground: 51 100% 50%;
    --secondary: 226 43% 21%;
    --secondary-foreground: 51 100% 50%;
    --accent: 51 100% 50%;
    --accent-foreground: 0 0% 0%;

    --success: 157 100% 18%;
    --success-foreground: 51 100% 50%;
    --warning: 51 100% 50%;
    --warning-foreground: 0 0% 0%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --muted: 225 38% 27%; /* #2B3A60 */
    --muted-foreground: 51 100% 50%;
    --border: 51 100% 50%;
    --input: 226 43% 21%;
    --ring: 51 100% 50%;

    --background-secondary: 226 43% 21%;
    --background-tertiary: 225 38% 27%;
    --text-secondary: 51 100% 50%;
    --text-tertiary: 51 100% 50%;
    --border-medium: 51 100% 50%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-inter;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-synthesis: none;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Safari iOS specific fixes */
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
    -webkit-user-select: none;
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
    /* Fix for Safari mobile viewport */
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }

  html {
    /* Safari iOS viewport fix */
    height: -webkit-fill-available;
  }

  #root {
    /* Safari mobile container fix */
    min-height: 100vh;
    min-height: -webkit-fill-available;
    width: 100%;
    position: relative;
    overflow-x: hidden;
  }

  /* Fix for pages with hardcoded backgrounds */
  .page-container {
    @apply bg-background text-foreground min-h-screen;
  }

  /* Typography Scale */
  .text-display-lg {
    @apply text-[3.5rem] leading-tight font-semibold;
  }
  .text-display-md {
    @apply text-[2.75rem] leading-tight font-semibold;
  }
  .text-h1 {
    @apply text-4xl leading-tight font-semibold;
  }
  .text-h2 {
    @apply text-3xl leading-tight font-semibold;
  }
  .text-h3 {
    @apply text-2xl leading-tight font-semibold;
  }
  .text-h4 {
    @apply text-xl leading-tight font-medium;
  }
  .text-body-lg {
    @apply text-lg leading-relaxed;
  }
  .text-body {
    @apply text-base leading-relaxed;
  }
  .text-body-sm {
    @apply text-sm leading-relaxed;
  }
  .text-caption {
    @apply text-xs leading-normal font-medium;
  }

  /* Font Families */
  .font-inter {
    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      sans-serif;
  }
  .font-mono {
    font-family: "JetBrains Mono", "Fira Code", Consolas, monospace;
  }
}

@layer components {
  /* Theme-aware page wrapper */
  .theme-page {
    @apply bg-background text-foreground min-h-screen;
  }

  /* Fixed dropdown and popover styles - ensuring they're not transparent */
  .dropdown-content {
    @apply z-50 min-w-[8rem] overflow-hidden rounded-xl border border-border bg-popover p-1 text-popover-foreground shadow-lg backdrop-blur-sm;
    background: hsl(var(--popover)) !important;
  }

  .popover-content {
    @apply z-50 rounded-xl border border-border bg-popover p-4 text-popover-foreground shadow-lg backdrop-blur-sm;
    background: hsl(var(--popover)) !important;
  }

  /* Medical gradient backgrounds */
  .gradient-medical {
    background: linear-gradient(
      135deg,
      hsl(var(--primary)) 0%,
      hsl(var(--secondary)) 100%
    );
  }

  .gradient-medical-subtle {
    background: linear-gradient(
      135deg,
      hsl(var(--primary) / 0.1) 0%,
      hsl(var(--secondary) / 0.1) 100%
    );
  }

  /* Glass morphism effects */
  .glass-card {
    @apply bg-card/80 dark:bg-card/80 backdrop-blur-xl border border-border shadow-lg;
  }

  /* Enhanced card styles */
  .medical-card {
    @apply bg-card border border-border rounded-2xl p-6 shadow-sm hover:shadow-md transition-all duration-200 hover:-translate-y-1;
  }

  .feature-card {
    @apply medical-card p-8 rounded-3xl shadow-md hover:shadow-lg;
  }

  /* Button variations */
  .btn-medical-primary {
    @apply bg-primary text-primary-foreground font-semibold px-6 py-3 rounded-xl shadow-sm hover:bg-primary/90 hover:shadow-md hover:scale-105 transition-all duration-200;
  }

  .btn-medical-secondary {
    @apply border-2 border-primary text-primary bg-transparent font-semibold px-6 py-3 rounded-xl hover:bg-primary hover:text-primary-foreground transition-all duration-200;
  }

  .btn-medical-ghost {
    @apply text-foreground bg-transparent hover:bg-muted font-medium px-6 py-3 rounded-xl transition-all duration-200;
  }

  /* Form elements */
  .medical-input {
    @apply border-2 border-input bg-background px-4 py-3 rounded-xl focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200 text-foreground placeholder:text-muted-foreground;
  }

  .medical-label {
    @apply text-sm font-medium text-foreground mb-2 block;
  }

  /* Emergency/Alert states */
  .alert-emergency {
    @apply bg-destructive/10 border-2 border-destructive text-destructive rounded-xl p-4 animate-pulse;
  }

  .alert-warning {
    @apply bg-warning/10 border-2 border-warning text-warning-foreground rounded-xl p-4;
  }

  .alert-success {
    @apply bg-success/10 border-2 border-success text-success-foreground rounded-xl p-4;
  }

  /* Navigation styles */
  .medical-nav {
    @apply bg-card/80 backdrop-blur-xl border-b border-border sticky top-0 z-50;
  }

  .medical-sidebar {
    @apply bg-card/90 backdrop-blur-xl border-r border-border;
  }

  /* Table styles */
  .medical-table {
    @apply w-full border-collapse bg-card rounded-xl overflow-hidden shadow-sm;
  }

  .medical-table th {
    @apply bg-muted px-4 py-3 text-left font-semibold text-foreground;
  }

  .medical-table td {
    @apply px-4 py-3 border-t border-border text-foreground;
  }

  /* AI/Processing animations */
  .ai-thinking {
    @apply animate-pulse bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent;
  }

  .ai-processing {
    @apply relative overflow-hidden;
  }

  @keyframes rotate {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  /* Status indicators */
  .status-online {
    @apply w-3 h-3 bg-success rounded-full animate-pulse;
  }
  .status-busy {
    @apply w-3 h-3 bg-warning rounded-full;
  }
  .status-offline {
    @apply w-3 h-3 bg-muted-foreground rounded-full;
  }

  /* Mobile optimizations */
  .mobile-touch-target {
    @apply min-h-[44px] min-w-[44px] flex items-center justify-center;
  }

  /* Safari iOS specific fixes */
  @supports (-webkit-touch-callout: none) {
    .safari-fix {
      min-height: calc(var(--vh, 1vh) * 100);
    }

    /* Fix for Safari bounce scroll */
    body {
      position: fixed;
      overflow: hidden;
      width: 100%;
      height: calc(var(--vh, 1vh) * 100);
    }

    #root {
      overflow-y: scroll;
      -webkit-overflow-scrolling: touch;
      height: calc(var(--vh, 1vh) * 100);
    }

    /* Fix loading screens */
    .mobile-loading-screen {
      height: calc(var(--vh, 1vh) * 100);
    }
  }

  /* Focus management */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background;
  }

  /* Hide scrollbar utility */
  .scrollbar-hide {
    -ms-overflow-style: none; /* Internet Explorer 10+ */
    scrollbar-width: none; /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none; /* Safari and Chrome */
  }

  /* Medical color utilities */
  .text-medical-primary {
    @apply text-primary;
  }
  .text-medical-secondary {
    @apply text-secondary;
  }
  .text-medical-accent {
    @apply text-accent;
  }
  .bg-medical-primary {
    @apply bg-primary;
  }
  .bg-medical-secondary {
    @apply bg-secondary;
  }
  .bg-medical-accent {
    @apply bg-accent;
  }

  /* Spacing utilities */
  .space-medical-xs {
    @apply space-y-1;
  } /* 4px */
  .space-medical-sm {
    @apply space-y-2;
  } /* 8px */
  .space-medical-md {
    @apply space-y-4;
  } /* 16px */
  .space-medical-lg {
    @apply space-y-6;
  } /* 24px */
  .space-medical-xl {
    @apply space-y-8;
  } /* 32px */
  .space-medical-2xl {
    @apply space-y-12;
  } /* 48px */
  .space-medical-3xl {
    @apply space-y-16;
  } /* 64px */
  .space-medical-4xl {
    @apply space-y-24;
  } /* 96px */
}

/* Global styles */
* {
  box-sizing: border-box;
}

.loading-skeleton {
  @apply animate-pulse bg-muted rounded;
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
  .print-break {
    page-break-before: always;
  }
  body {
    @apply text-black bg-white;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Legacy color support */
.bg-gray-50 {
  @apply bg-muted !important;
}
.bg-gray-100 {
  @apply bg-muted !important;
}
.bg-gray-200 {
  @apply bg-border !important;
}
.bg-white {
  @apply bg-background !important;
}
.text-gray-500 {
  @apply text-muted-foreground !important;
}
.text-gray-600 {
  @apply text-muted-foreground !important;
}
.text-gray-700 {
  @apply text-foreground !important;
}
.text-gray-800 {
  @apply text-foreground !important;
}
.text-gray-900 {
  @apply text-foreground !important;
}
.text-black {
  @apply text-foreground !important;
}

/* Radix UI overrides */
[data-radix-popper-content-wrapper] {
  @apply z-50;
}

[role="menu"],
[role="listbox"] {
  @apply z-50;
}

/* Background blob animations */
@keyframes blob {
  0% {
    transform: translate(0px, 0px) scale(1);
  }
  33% {
    transform: translate(30px, -50px) scale(1.1);
  }
  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }
  100% {
    transform: translate(0px, 0px) scale(1);
  }
}

.animate-blob {
  animation: blob 7s infinite;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}
